{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Tipos de servicio</h2>
  {% if user.is_staff or user.is_superuser %}
    <a class="btn btn-primary" href="{% url 'servicios:tipo_create' %}">Crear tipo</a>
  {% endif %}
</div>

<div class="list-group">
  {% for t in tipos %}
    <div class="list-group-item d-flex justify-content-between align-items-start">
      <div>
        <strong>{{ t.nombre }}</strong>
        <div class="small text-muted">{{ t.descripcion|truncatewords:20 }}</div>
      </div>
      <div class="ms-3">
        <a class="btn btn-sm btn-outline-primary" href="{% url 'servicios:tipo_detail' t.pk %}">Ver</a>
        {% if user.is_staff or user.is_superuser %}
          <a class="btn btn-sm btn-secondary" href="{% url 'servicios:tipo_update' t.pk %}">Editar</a>

          <form method="post" action="{% url 'servicios:tipo_delete' t.pk %}" class="d-inline">
            {% csrf_token %}
            <button class="btn btn-sm btn-danger" type="submit" title="Eliminar tipo">Eliminar</button>
          </form>
        {% endif %}
      </div>
    </div>
  {% empty %}
    <div class="list-group-item">No hay tipos de servicio registrados.</div>
  {% endfor %}
</div>
{% endblock %}
